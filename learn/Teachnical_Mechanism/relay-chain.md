
MAP protocol shares lots of similar features of Polkadot and Cosmos, i.e., rely on cryptographic proof rather than trusted entities when verifying cross-chain message, facilitate cross-chain transfer as well cross-chain swap, the dedicated MAP Relay Chain also adopts Proof-of-Stake and Byzantine Consensus just as Polkadot and Cosmos. Yet, the biggest difference is that Polkadot and Cosmos have been focusing on connecting isomorphic chains within its own ecosystem, e.g. blockchains built with Substrate or Tendermint Core and Cosmos-SDK. This kind of explains the current isolation state of both realms from the flourishing EVM world. With MAP protocol, we started our journey with the mission to connect heterogeneous blockchains, with dedicated MAP Relay Chains, we can easily add in necessary features to connect all existing blockchains as well as those yet to come. By supporting the IBC protocol on MAP chain, MAP chain can easily talk to the Cosmos world, by integrating the ICMP protocol, MAP chain can connect to the Polkadot world, etc.

MAP Relay Chain is fully EVM compatible build upon Proof-of-Stake mechanism and Byzantine Fault Tolerant consensus protocol. The main purpose of MAP Relay Chain is to maintain light clients of all interested blockchains to facilitate the trustless verification of cross-chain messages. Only in this way, can MAP protocol eliminate the unreliable human factor from the cross-chain communication, especially the assets management process. That is, the correctness of the light client is the trust anchor of the whole MAP protocol. Thus, the main task of MAP Relay Chain is to maintain this anchor trust in a pure mathematical way so that users of MAP protocol need to trust only the safety of the cryptographic primitives that already form the foundation of the whole blockchain universe.

The technology strategy for MAP Relay Chain is easy to understand considering the development of the blockchain world in the last few years. The explosive development of DeFi made EVM the de facto industry standard platform to develop smart contracts. The criticism on the energy consumption of Proof-of-Work mechanism is pushing the whole blockchain world shifting to a more energy efficient form. With the research advancement regarding to the safety of PoS, especially the discovery of the infamous long-range and nothing at stake attacks as well as the proposition corresponding mitigation solutions, the once fragile PoS mechanism can now operate smoothly and safely and the actual operation experience of Cosmos, Polkadot and other PoS networks also prove the case. The possible forks intrinsic to the Nakamoto consensus is not user friendly, especially for those on-chain activities with strong financial attributes where one would like to know for sure if one transaction succeeded or not instantly. This is where is Byzantine Fault Tolerance consensus protocol comes into play, especially with the inventory of PBFT (Practical BFT) protocol and the improvement regarding to the blockchain scenario since then, such as IBFT (Istanbul BFT), Tendermint, HotStuff etc. Nowadays, BFT consensus can easily scale to 100+ validators nodes while still guaranteeing network stability and quick confirmation within seconds to provide better user experience.

MAP Relay Chain adopts the leader based IBFT consensus featuring its simpleness, immediate finality, robustness in an eventually synchronous network as well as the support for dynamic validator set. With tons of research and engineering efforts into the IBFT consensus protocol, not only the safety and liveness can be guaranteed but also a solid foundation is built so that we can quickly boost the MAP protocol. The validator set required by the IBFT protocol is selected and updated via the PoS mechanism mainly according to the staking weight measured in MAP token, the native token asset of MAP Relay Chain, among all candidate validators. To guarantee the diversity and robustness of the network, MAP Relay Chain supports at most 100 validators at the beginning and will gradually extend to bigger size by continuously engineering optimization and by closely following the advancement from both academic and industry world.

Staked validators are rewarded with MAP token according to the amount of token staked as well as the stability of their node, e.g., the efforts they devoted to maintaining MAP Relay Chain. Holders of MAP token can either operate their own validator node or delegate their token to a well-established validator node to earn reward. To attract more holders of MAP token to participate in the PoS mechanism, the incentive will be dynamically adjusted according to the ratio of staked tokens against the total tokens in circulation, e.g., the incentive will be automatically increased if the ratio goes down below a target value. Also, the incentive will be adjusted towards the other direction in case the staking ratio has reached a certain level so that there are always enough assets in free circulation to keep the whole ecosystem healthy. There are other ways for MAP holders to earn more reward, such as being a “relayer” and feed the MAP Relay Chain with all kinds of message related to connected blockchains to keep the chain up to date or to earn rewards by contributing directly to the code base of MAP protocol, building inside the ecosystem, or helping boost the protocol, etc.

Block of MAP Relay Chain is generated in epoch-based style. At the end of each epoch a new validator set is selected according to the amount of staked MAP tokens. During one epoch, the set of validators remains intact, and the blocks are produced following the leader-based style of IBFT consensus. Leader is chosen in a weighted round-robin way among all selected validators, where the chance of each validator getting selected as leader is proportional to their staking weight.

On the design rationale of MAP Relay Chain, we share the same view of Ethereum, especially the sandwich complexity model. That is the bottom level architecture should be kept as simple as possible. Following this rationale, the PoS mechanism as well as the various light clients maintained by the chain are all implemented as smart contracts resident on MAP Relay Chain. Only in this way, can we quickly add in new features, e.g., a new type of light client of a new blockchain while keeping the consensus layer of the chain stable.
